â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘     INSTRUCCIONES PARA INSTALAR EN TU VPS                 â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO 1: Conectarse a tu VPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Abre tu terminal (PowerShell, CMD, o PuTTY) y ejecuta:

    ssh root@91.99.171.11

ContraseÃ±a: 3i4jE9UwnXR3


PASO 2: Descargar y ejecutar el script maestro
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Una vez dentro de la VPS, copia y pega estos comandos:

    wget https://raw.githubusercontent.com/devmaikelrm/CitaConsulares/main/deploy-master.sh
    chmod +x deploy-master.sh
    bash deploy-master.sh


PASO 3: Proporcionar credenciales
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

El script te pedirÃ¡:

1. Token del bot de Telegram
   â†’ Ve a @BotFather en Telegram
   â†’ EnvÃ­a /mybots â†’ Selecciona tu bot â†’ API Token
   â†’ Copia el token (formato: 123456789:ABC...)

2. Tu Chat ID de Telegram
   â†’ Ve a @userinfobot en Telegram
   â†’ EnvÃ­a cualquier mensaje
   â†’ Copia el nÃºmero que te da

3. DATABASE_URL de Supabase
   â†’ Ve a supabase.com â†’ Tu proyecto
   â†’ Settings â†’ Database â†’ Connection String (URI)
   â†’ Copia la URL completa

4. WIDGET_URL (opcional)
   â†’ Presiona Enter para omitir por ahora


PASO 4: Esperar a que termine
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

El script tardarÃ¡ 5-10 minutos en:
âœ“ Instalar Node.js, pnpm, PM2
âœ“ Clonar el repositorio
âœ“ Instalar dependencias
âœ“ Compilar todo
âœ“ Configurar servicios
âœ“ Iniciar el bot


PASO 5: Verificar que funciona
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ejecuta:

    pm2 status

DeberÃ­as ver:
- bot (online)
- worker (online)
- healthcheck (online)

Luego abre Telegram, busca tu bot y envÃ­a /start


PASO 6: Configurar base de datos
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ve a supabase.com â†’ Tu proyecto
2. SQL Editor
3. Copia y pega el contenido de:
   https://raw.githubusercontent.com/devmaikelrm/CitaConsulares/main/scripts/db-init.sql
4. Click en "Run"


PASO 7: Configurar deploy automÃ¡tico (GitHub Actions)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ve a: https://github.com/devmaikelrm/CitaConsulares/settings/secrets/actions

2. Agrega estos 3 secrets:

   VPS_HOST = 91.99.171.11
   VPS_USER = root
   VPS_PASSWORD = 3i4jE9UwnXR3

3. Â¡Listo! Ahora cada push a main se desplegarÃ¡ automÃ¡ticamente


COMANDOS ÃšTILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ver estado:
    pm2 status

Ver logs:
    pm2 logs bot
    pm2 logs worker

Reiniciar:
    pm2 restart all

Actualizar cÃ³digo:
    cd /opt/CitaConsulares
    bash scripts/update.sh


Â¿PROBLEMAS?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ver logs de error:
    pm2 logs --err --lines 100

Reiniciar todo:
    pm2 restart all

Revisar guÃ­a completa:
    https://github.com/devmaikelrm/CitaConsulares/blob/main/TROUBLESHOOTING.md


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Â¡ESO ES TODO! En 10 minutos tendrÃ¡s todo funcionando ğŸš€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

