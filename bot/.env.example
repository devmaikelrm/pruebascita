# Configuración de entorno para el bot de Telegram

# Zona horaria del servidor (opcional)
TZ=

# Credenciales del bot de Telegram
# Token en formato 123456789:ABC...
TELEGRAM_BOT_TOKEN=

# IDs de chat autorizados (solo estos recibirán respuesta del bot)
# Uno principal obligatorio y opciones adicionales:
TELEGRAM_ADMIN_CHAT=
# Segundo ID opcional
TELEGRAM_ADMIN_CHAT_2=
# Lista opcional separada por comas (ej: 111,222,333)
TELEGRAM_ADMIN_CHAT_LIST=

# Base de datos Postgres (Supabase/Neon)
# Ejemplo Supabase:
# postgresql://postgres:PASSWORD@db.xxxxxx.supabase.co:5432/postgres
DATABASE_URL=

# =============================
# Watcher de disponibilidad (JSONP Bookitit)
# Habilita un sondeo periódico del endpoint público de calendario para
# avisar de nuevas fechas/horas. Puede funcionar sin DATABASE_URL.
# =============================
# Activar (1) / desactivar (0)
DISPO_ENABLED=
# Claves/IDs del widget (obligatorias si DISPO_ENABLED=1)
DISPO_PUBLICKEY=
DISPO_SERVICE=
DISPO_AGENDA=
# Referers (recomendado mantenerlos coherentes)
DISPO_SRC=
DISPO_SRVSRC=https://citaconsular.es

# Horizonte de búsqueda (elige uno)
# Más intuitivo: próximos N días (tiene prioridad si > 0)
DISPO_DAYS=90
# Alternativa por meses: mes actual + N-1 siguientes
# DISPO_MONTHS=6

# Frecuencia y jitter
DISPO_INTERVAL_SEC=60
DISPO_JITTER_PCT=0.2

# Modo nocturno (intervalos más altos)
DISPO_NIGHT_START=00:00
DISPO_NIGHT_END=06:00
DISPO_NIGHT_MIN_SEC=180
DISPO_NIGHT_MAX_SEC=300

# Backoff tras errores consecutivos (segundos)
DISPO_BACKOFF_SEC=300

# Verbosidad temporal (1 = enviar "No hay citas" en cada ciclo)
DISPO_VERBOSE=0

# Destinatarios (si no defines, usa TELEGRAM_ADMIN_CHAT/LIST)
#DISPO_RECIPIENTS=111111111,222222222

# -----------------------------
# Segundo perfil opcional (p.ej., TURISMO/Schengen)
# Si completas estas variables, se inicia un segundo watcher en paralelo
DISPO2_PUBLICKEY=
DISPO2_SERVICE=
DISPO2_AGENDA=
DISPO2_SRC=
DISPO2_SRVSRC=https://citaconsular.es
# Horizonte/frecuencia (usa los del primer perfil si no defines)
#DISPO2_DAYS=90
#DISPO2_INTERVAL_SEC=60
#DISPO2_JITTER_PCT=0.2
# Etiqueta para prefijar mensajes de este perfil
DISPO2_LABEL=TURISMO

